# リザードンXY分別
## 背景
ポケモン対戦では対戦準備画面にて対戦相手の６体がこのように表示されます。

![対戦画面](/img/battle_screen.jpg)

引用：http://nitochamai.hatenablog.com/entry/2016/07/19/185447

この情報をもとに、自分の手持ちの6体から3体選出することになります。
ここででてくるのが「メガシンカ」という概念。
特定のポケモンに特定のアイテムを持たせることにより、対戦中にさらに進化できます。
メガシンカの特徴として、**対戦準備画面の段階ではメガシンカするかどうかは判断できない**があります。
対戦が始まらないと分からない**不完全情報**です。

本題のリザードンは、リザードンXとリザードンYにメガシンカできるポケモンです。
![リザードンX](/img/charizard_x.png)
リザードンX
![リザードンY](/img/charizard_y.png)
リザードンY

引用：https://www.pokemon.jp/zukan/

リザードンXとリザードンYは全く別のようなポケモンで、XとYの判断を間違えると、**致命傷になります**。

ですのでプレイヤーは対戦準備画面の段階でXかYかを予測して、対策を練って対戦に挑む必要があります。

この予測を機械学習でできないか、というのがこのレポの主旨です。

## データ収集
データはポケモン公式の[PGL](https://3ds.pokemon-gl.com/rentalteam/usum/search)というパーティ投稿サイトをスクレイピングしています。

## 分析
モデルはTensorflowのDNN。
まずは相手のパーティの5体そのままぶち込んでみました（1ポケモン=1ID）。
XとYを分別できる正確度は**58%**。

次に、頻度が少ないポケモンを一つのIDにまとめてみました。
今度は**68%**。

XとYを実際判別するときに参考にするポケモンのタイプも追加してみました。
なんと**85%**！
2択の判別の妥協ラインに達成！

ちなみにポケモンのIDを抜いてタイプだけにしても**86%**でした。
ID抜きだと精度(precision)が100%、再現率(recall)が75%で、ID入りだと精度が90%で再現率が80%でした。
